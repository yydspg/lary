
- 20240918
1. 关于客户端获取 srs edge 的时候，目前是通过用户post请求里的省份来做的，就是通过Province.getNearBy()但是这个其实把业务和 srs绑定了，直接用下行的域名dns最好，之后也可以换成http-dns
2. 开播的话，B站是做了用户私钥的,考虑完善下srs的回调
3. 总结这个lombok的@AllArgsConstructor用于属性少的接口，但是不能调用super(),也就是父类的属性不能在子类里通过这个注解约束指定，
而且对于 @Accessors(chain = true) 如果用于子类，就会导致你在设置父类属性的时候返回父类对象，导致一个设置属性的链要分成两部分写，
因此结论是在 此种情况下，不使用继承关系，这种编译期生成代码的方式最好采用在结构简单清晰的类中，防止产生错误
- 20240920
1. 因为我使用了mp框架，所以dao层提升到了service层，这样很多逻辑就可以在controller里实现，我的解决方法是增加一层
Execute,所以execute不适合引用别的execute,相同的简单逻辑直接使用service处理了
2. srs支持回调，所以开播，关播，进入直播间，离开直播间都做了回调处理，开播关播 加了事件处理，也就是发送mq异步延迟消息，
这样最终一致性就得到了保证，如果开播关播在中途异常，最终redis的cache是永不过期，所以可能造成redis的“内存泄漏”
3. 目前mysql上的事务一点都没写，甚至@Transactional都未使用，打算使用编程式事务框架
4. 引入了两个框架，一个是敏感词检测的，基于dfa[sensitive-word](https://github.com/houbb/sensitive-word)
另一个是动态线程池，主要是为了处理直播结束的 收入统计
- 2024926
1. 打算抽象出一个id服务,实现采用mysql的自增id,当然是针对一些面向用户的id先改造，主要是uuid太长了
2. 目前纠结的一个问题是，要不要区分业务主键id和表id,感觉还是用这个mysql的自增表id了，一个是数据不会变化，第二是
回表问题目前了解到的是：建议做一个比较通用的联合索引，但是我感觉还是直接mysql自增id,最方便
- 20240928
1. 管理端的程序就打算直接重新起一个module,不想在业务里面写了感觉还要加入一套rbac,太麻烦了
2. 之前谈到了我将逻辑提升到了execute,看了alibaba的开发手册,还是太儿戏了,但是小项目问题不大